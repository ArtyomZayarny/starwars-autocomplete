(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{97:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(0),r=n(11),o=n.n(r),s=n(22),i=n(13),l=n(23),u=n.n(l),j=n(32),h=n(43),b=n(147),d=n(148),O=n(135),m=n(140),f=n(142),x=n(143),p=n(56),g=n.n(p).a.create({baseURL:"https://swapi.dev/api/"}),k=n(144),y=n(145),v=n(141),S=n(138),w=Object(O.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function N(e){var t=Object(a.useState)({name:"",height:"172",mass:"77",hairColor:"blond",skinColor:"fair",eyeColor:"blue",birthYear:"19BBY",gender:"male",homeworld:"",vehicles:[],films:""}),n=Object(s.a)(t,2),r=n[0],o=n[1],l=function(e){var t=[];return e.map((function(e){t.push(g.get(e).then((function(e){return e.data})))})),Promise.all(t)},h=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:n=e.sent,o((function(e){return Object(i.a)(Object(i.a)({},e),{},{vehicles:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t);case 2:n=e.sent,o((function(e){return Object(i.a)(Object(i.a)({},e),{},{films:n})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){g.get(e.homeworld).then((function(e){o((function(t){return Object(i.a)(Object(i.a)({},t),{},{homeworld:e.data.name})}))})),e.vehicles.length>0&&h(e.vehicles),e.films.length>0&&b(e.films),o(Object(i.a)(Object(i.a)({},r),e))}),[]);var d=w();return Object(c.jsx)(S.a,{maxWidth:"sm",children:Object(c.jsxs)(m.a,{className:d.root,children:[Object(c.jsx)(v.a,{variant:"contained",onClick:function(){e.setCharacter({})},children:"Back"}),Object(c.jsxs)(f.a,{children:[Object(c.jsx)(x.a,{variant:"h5",component:"h2",children:"Name: ".concat(r.name)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Height: ".concat(r.height)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Mass: ".concat(r.mass)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Hair-color: ".concat(r.hairColor)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Skin color: ".concat(r.skinColor)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Eye-color: ".concat(r.eyeColor)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Birth year: ".concat(r.birthYear)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Gender: ".concat(r.gender)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Homeword: ".concat(r.homeworld)}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Vehicles:"}),Object(c.jsx)(k.a,{children:r.vehicles.length>0&&r.vehicles.map((function(e){return Object(c.jsx)(y.a,{children:Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"".concat(e.name," - ").concat(e.model)})},e.name)}))}),Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"Films:"}),Object(c.jsx)(k.a,{children:r.films.length>0&&r.films.map((function(e){return Object(c.jsx)(y.a,{children:Object(c.jsx)(x.a,{className:d.pos,color:"textSecondary",children:"".concat(e.title)})},e.title)}))})]})]})})}function C(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],o=n[1],l=Object(a.useState)({}),O=Object(s.a)(l,2),m=O[0],f=O[1];Object(a.useEffect)((function(){function e(){var e=[];return g.get("/people").then((function(t){return e=t.data.results,t.data.count})).then((function(e){for(var t=Math.ceil((e-1)/10),n=[],c=2;c<=t;c++)n.push(g.get("/people?page=".concat(c)));return Promise.all(n)})).then((function(t){return e=t.reduce((function(e,t){return[].concat(Object(h.a)(e),Object(h.a)(t.data.results))}),e)}))}Object(j.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,o(n);case 4:case"end":return t.stop()}}),t)})))()}),[]);return Object(c.jsx)(S.a,{maxWidth:"sm",children:Object.keys(m).length>0?Object(c.jsx)(N,Object(i.a)(Object(i.a)({},m),{},{setCharacter:f})):Object(c.jsx)(d.a,{id:"combo-box-demo",options:r,onChange:function(e,t){f(t)},getOptionLabel:function(e){return e.name},style:{width:300},renderInput:function(e){return Object(c.jsx)(b.a,Object(i.a)(Object(i.a)({},e),{},{label:"Character",variant:"outlined"}))}})})}var I=n(39),T=n.n(I);function B(e){var t=e.setToken,n=function(e){e.hasOwnProperty("accessToken")&&t(e.accessToken)};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(T.a,{clientId:"958722558412-s7hqutfglj8iu7eqkfhkt9ae0d70g0kg.apps.googleusercontent.com",buttonText:"Login",onSuccess:n,onFailure:n,cookiePolicy:"single_host_origin"})})}function J(e){var t=e.setToken;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(I.GoogleLogout,{clientId:"958722558412-s7hqutfglj8iu7eqkfhkt9ae0d70g0kg.apps.googleusercontent.com",buttonText:"Logout",onLogoutSuccess:function(){t("")}})})}var L=localStorage;function E(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1];return Object(a.useEffect)((function(){if(L.getItem("token-key")){var e=JSON.parse(L.getItem("token-key"));e!==n&&n&&(L.setItem("token-key",JSON.stringify(n)),r(n),u(!0)),e&&!n&&(""===n?(L.setItem("token-key",JSON.stringify(!1)),r(""),u(!1)):(r(e),u(!0)))}else L.setItem("token-key",JSON.stringify(n))}),[n]),Object(c.jsxs)(c.Fragment,{children:[n?Object(c.jsx)(J,{setToken:r}):Object(c.jsx)(B,{setToken:r}),l?Object(c.jsx)(C,{}):""]})}o.a.render(Object(c.jsx)(E,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.e7a8f0b0.chunk.js.map